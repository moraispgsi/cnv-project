/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */
subprojects {
    apply plugin: "java"
    apply plugin: 'application'

    repositories {
        mavenCentral()
    }

    dependencies {
        testCompile "junit:junit:4+"
    }
}

project(':server') {

    mainClassName = 'pt.ulisboa.tecnico.meic.cnv.WebServer'

    dependencies {
        compile project(':MazeRunner')
        compile project(':inst')
    }

    run {
        dependsOn(':inst:run')
    }

}

project(':MazeRunner') {
    mainClassName = 'pt.ulisboa.tecnico.meic.cnv.MazeRunner'
}

project('inst') {

    mainClassName = 'pt.ulisboa.tecnico.meic.cnv.ICount'

    //Instrumenting MazeRunner classes
    run {
        args = ['../MazeRunner/build/classes/java/main/pt/ulisboa/tecnico/meic/cnv/mazerunner/maze']
    }

    dependencies {
        compile project(':MazeRunner')
    }
}